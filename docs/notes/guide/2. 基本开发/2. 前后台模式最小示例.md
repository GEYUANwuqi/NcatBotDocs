---
title: 前后台模式最小示例
createTime: 2025/04/28 10:54:49
permalink: /guide/activemode/
---

## 前台模式

### main.py

```python
from ncatbot.core import BotClient
from ncatbot.core.event import PrivateMessageEvent

bot = BotClient()

@bot.on_private_message()
async def on_private_message(event: PrivateMessageEvent):
    print("收到私聊消息")

api = bot.run_frontend()
```

### 运行

终端执行 `python main.py` 直接运行，收到私聊消息会在终端打印 `收到私聊消息`。

## 后台模式

### main.py

```python
from ncatbot.core import BotClient

bot = BotClient()

@bot.on_private_message()
async def on_private_message(event: BaseMessageEvent):
    print("收到私聊消息")

api = bot.run_backend()
# 同步接口主动发消息（示例群号/QQ 号请替换）
api.send_private_text_sync(876543, "Bot 已经启动")
print("后台已运行，继续做其他同步任务……")
bot.exit() # 需要主动退出 Bot
```

## 组件介绍