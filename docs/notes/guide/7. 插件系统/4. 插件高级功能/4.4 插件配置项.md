---
title: 插件配置项
createTime: 2025/09/29 10:07:54
permalink: /guide/plugin-config/
---

## 配置项

`NcatBotPlugin` 持有 `config` 成员。类型为 `dict`。

## 注册和访问配置项

`NcatBotPlugin` 提供 `register_config` 方法, 用于注册插件配置项。

```python
class MyPlugin(NcatBotPlugin):
    async def on_load(self):
        self.register_config("greeting", "Hello, world!")
        self.register_config("repeat_count", 3)
    
    async def some_method(self):
        greeting = self.config["greeting"]
        count = self.config["repeat_count"]
        for _ in range(count):
            print(greeting)
```

## 配置项存储

配置项存储在 `data/<插件名>/config.yaml` 文件中。

你可以在 Bot 退出后手动修改配置项。

已保存的配置项会在插件加载时自动读取，覆盖 `register_config` 注册的默认值。

## 修改配置项

可以使用 `SystemManager` 提供的 `set_config` 命令。

`/set_config <插件名> <配置项名> <新值>` 修改配置项。
`/cfg <插件名> <配置项名> <新值>` 别名。